# QueryCraft Future Lab AI ê¸°ëŠ¥ ìƒì„¸ ê¸°íšì„œ

> **ì‘ì„±ì¼**: 2026-01-15  
> **ëª©ì **: Future Labì˜ 5ê°€ì§€ AI ê¸°ëŠ¥ êµ¬í˜„ì„ ìœ„í•œ ìƒì„¸ ê¸°íš  
> **ê¸°ë°˜ ë¬¸ì„œ**: [FUTURE_ROADMAP.md](./FUTURE_ROADMAP.md)

---

## ëª©ì°¨

1. [RCA ì‹œë‚˜ë¦¬ì˜¤ ëª¨ë“œ](#1-rca-ì‹œë‚˜ë¦¬ì˜¤-ëª¨ë“œ)
2. [AI ì¸ì‚¬ì´íŠ¸ ë¦¬í¬íŠ¸](#2-ai-ì¸ì‚¬ì´íŠ¸-ë¦¬í¬íŠ¸)
3. [ê°œì¸í™” í•™ìŠµ ì¶”ì²œ (Adaptive Tutor)](#3-ê°œì¸í™”-í•™ìŠµ-ì¶”ì²œ)
4. [Text-to-SQL (AI Workspace)](#4-text-to-sql-ai-workspace)
5. [MCP ì—°ë™](#5-mcp-ì—°ë™)
6. [êµ¬í˜„ ìš°ì„ ìˆœìœ„ ë° ë¡œë“œë§µ](#6-êµ¬í˜„-ìš°ì„ ìˆœìœ„-ë°-ë¡œë“œë§µ)

---

# 1. RCA ì‹œë‚˜ë¦¬ì˜¤ ëª¨ë“œ

## 1.1 ê°œìš”

**ì»¨ì…‰**: "ë¹„ì¦ˆë‹ˆìŠ¤ ì¥ì•  ìƒí™© ì‹œë®¬ë ˆì´ì…˜"  
**ëª©í‘œ**: ì‹¤ë¬´ì—ì„œ ë°œìƒí•˜ëŠ” ë§¤ì¶œ ê¸‰ê°, ë¦¬í…ì…˜ í•˜ë½ ë“±ì˜ ì¥ì• ë¥¼ ì¬í˜„í•˜ê³ , ì‚¬ìš©ìê°€ SQLë¡œ ì›ì¸ì„ ë¶„ì„í•˜ëŠ” í›ˆë ¨

## 1.2 ì‚¬ìš©ì í”Œë¡œìš°

```mermaid
graph TD
    A[Future Lab ì§„ì…] --> B[Crisis Simulator ì„ íƒ]
    B --> C[ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡ ì¡°íšŒ]
    C --> D{ì˜¤ëŠ˜ì˜ ì‹œë‚˜ë¦¬ì˜¤ ìˆìŒ?}
    D -->|Yes| E[ì‹œë‚˜ë¦¬ì˜¤ ìƒì„¸ í˜ì´ì§€]
    D -->|No| F[ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± ìš”ì²­]
    F --> G[AIê°€ ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± ì¤‘...]
    G --> E
    
    E --> H[ë¬¸ì œ ìƒí™© í™•ì¸]
    H --> I[SQL ì‘ì„± ë° ì‹¤í–‰]
    I --> J{íŒíŠ¸ í•„ìš”?}
    J -->|Yes| K[AI íŒíŠ¸ ìš”ì²­]
    K --> I
    J -->|No| L[ì›ì¸ ì œì¶œ]
    
    L --> M{ì •ë‹µ ê²€ì¦}
    M -->|ì •ë‹µ| N[í•´ì„¤ ë° ë³´ìƒ ì§€ê¸‰]
    M -->|ì˜¤ë‹µ| O[í”¼ë“œë°± ì œê³µ]
    O --> I
```

## 1.3 UI/UX ì„¤ê³„

### 1.3.1 ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡ í˜ì´ì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš¨ Crisis Simulator                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  ğŸ“… ì˜¤ëŠ˜ì˜ ìœ„ê¸°                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 2026-01-15                       â”‚ â”‚
â”‚  â”‚ ğŸ”¥ ê²°ì œ ì „í™˜ìœ¨ 35% ê¸‰ë½           â”‚ â”‚
â”‚  â”‚ ë‚œì´ë„: â­â­â­                     â”‚ â”‚
â”‚  â”‚ ë³´ìƒ: 50 XP                       â”‚ â”‚
â”‚  â”‚                                  â”‚ â”‚
â”‚  â”‚ [ì‹œì‘í•˜ê¸° â†’]                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚  ğŸ“š ì§€ë‚œ ì‹œë‚˜ë¦¬ì˜¤ (ì„ íƒ í•™ìŠµ)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 2026-01-14: DAU 20% í•˜ë½         â”‚ â”‚
â”‚  â”‚ âœ… ì™„ë£Œ | ì •ë‹µë¥ : 45%             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 2026-01-13: ë¦¬í…ì…˜ ê¸‰ê°           â”‚ â”‚
â”‚  â”‚ â­ï¸ ë¯¸ì™„ë£Œ                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3.2 ì‹œë‚˜ë¦¬ì˜¤ ìƒì„¸ í˜ì´ì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”¥ ê²°ì œ ì „í™˜ìœ¨ 35% ê¸‰ë½                        â”‚
â”‚  ë‚œì´ë„: â­â­â­ | ë³´ìƒ: 50 XP                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  ğŸ“‹ ìƒí™©                                        â”‚
â”‚  2025ë…„ 12ì›” ì…‹ì§¸ ì£¼, ê²°ì œ ì „í™˜ìœ¨ì´ ì „ì£¼ ëŒ€ë¹„   â”‚
â”‚  35% ê¸‰ë½í–ˆìŠµë‹ˆë‹¤. ë¬´ì—‡ì´ ì›ì¸ì¸ì§€ ë¶„ì„í•˜ê³      â”‚
â”‚  ë³´ê³ ì„œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.                         â”‚
â”‚                                                â”‚
â”‚  ğŸ“Š ì£¼ìš” ì§€í‘œ                                   â”‚
â”‚  - ì „ì£¼ ì „í™˜ìœ¨: 8.5%                           â”‚
â”‚  - ê¸ˆì£¼ ì „í™˜ìœ¨: 5.5%                           â”‚
â”‚  - ì˜í–¥ë°›ì€ ì‚¬ìš©ì: ~3,000ëª…                   â”‚
â”‚                                                â”‚
â”‚  ğŸ’¡ ì œê³µ ë°ì´í„°                                 â”‚
â”‚  - pa_events (ì‚¬ìš©ì ì´ë²¤íŠ¸)                   â”‚
â”‚  - pa_users (ì‚¬ìš©ì ì •ë³´)                      â”‚
â”‚  - pa_transactions (ê±°ë˜ ê¸°ë¡)                 â”‚
â”‚                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SQL Editor                    [ğŸ’¡ íŒíŠ¸ ìš”ì²­]  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ SELECT ...                               â”‚ â”‚
â”‚  â”‚                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  [â–¶ ì‹¤í–‰]                                      â”‚
â”‚                                                â”‚
â”‚  ğŸ“ˆ ê²°ê³¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ (ì¿¼ë¦¬ ì‹¤í–‰ ê²°ê³¼ í…Œì´ë¸”)                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                â”‚
â”‚  ğŸ¯ ì›ì¸ ì œì¶œ                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ì›ì¸: [              ]                   â”‚ â”‚
â”‚  â”‚       ì˜ˆ) "iOS ê²°ì œ ë²„íŠ¼ ì˜¤ë¥˜"            â”‚ â”‚
â”‚  â”‚                                          â”‚ â”‚
â”‚  â”‚ ê·¼ê±° SQL: ìœ„ì—ì„œ ì‘ì„±í•œ ì¿¼ë¦¬ê°€ ìë™ ì²¨ë¶€   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  [ì œì¶œí•˜ê¸°]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 1.4 API ì„¤ê³„

### 1.4.1 ì—”ë“œí¬ì¸íŠ¸

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/rca/scenarios` | ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡ ì¡°íšŒ |
| GET | `/rca/scenarios/{date}` | íŠ¹ì • ë‚ ì§œ ì‹œë‚˜ë¦¬ì˜¤ ìƒì„¸ |
| POST | `/rca/scenarios/generate` | ìƒˆ ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± (ê´€ë¦¬ì/ìŠ¤ì¼€ì¤„ëŸ¬) |
| POST | `/rca/hint` | AI íŒíŠ¸ ìš”ì²­ |
| POST | `/rca/submit` | ë‹µì•ˆ ì œì¶œ ë° ê²€ì¦ |

### 1.4.2 ë°ì´í„° êµ¬ì¡°

**Request: POST /rca/scenarios/generate**
```json
{
  "date": "2026-01-15",
  "difficulty": "medium",
  "data_type": "pa"
}
```

**Response:**
```json
{
  "scenario_id": "rca_20260115",
  "date": "2026-01-15",
  "title": "ê²°ì œ ì „í™˜ìœ¨ 35% ê¸‰ë½",
  "description": "2025ë…„ 12ì›” ì…‹ì§¸ ì£¼...",
  "difficulty": "medium",
  "xp_reward": 50,
  "context": {
    "metric": "conversion_rate",
    "baseline": 8.5,
    "current": 5.5,
    "timeframe": "2025-12-15 ~ 2025-12-21"
  },
  "hidden_truth": {
    "cause": "ios_payment_button_bug",
    "affected_segment": "WHERE platform = 'iOS' AND version = '2.1.0'"
  }
}
```

**Request: POST /rca/submit**
```json
{
  "scenario_id": "rca_20260115",
  "user_answer": "iOS ê²°ì œ ë²„íŠ¼ ì˜¤ë¥˜",
  "sql": "SELECT platform, version, COUNT(*) as failed_payments..."
}
```

**Response:**
```json
{
  "correct": true,
  "score": 95,
  "feedback": "ì •í™•í•©ë‹ˆë‹¤! iOS ë²„ì „ 2.1.0ì˜ ê²°ì œ ë²„íŠ¼ ì´ìŠˆë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.",
  "xp_earned": 50,
  "solution": {
    "cause": "ios_payment_button_bug",
    "explanation": "12ì›” 18ì¼ ë°°í¬ëœ iOS ì•± v2.1.0ì—ì„œ...",
    "recommended_sql": "SELECT ..."
  }
}
```

## 1.5 ë°ì´í„° ëª¨ë¸

### 1.5.1 PostgreSQL í…Œì´ë¸”

```sql
CREATE TABLE rca_scenarios (
    scenario_id TEXT PRIMARY KEY,
    date DATE NOT NULL,
    title TEXT NOT NULL,
    description TEXT,
    difficulty TEXT CHECK (difficulty IN ('easy', 'medium', 'hard')),
    data_type TEXT DEFAULT 'pa',
    xp_reward INTEGER DEFAULT 50,
    context JSONB,  -- ë¬¸ì œ ìƒí™© ë©”íƒ€ë°ì´í„°
    hidden_truth JSONB,  -- ì •ë‹µ ë°ì´í„° (ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œ ì•ˆ ë¨)
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE rca_submissions (
    id SERIAL PRIMARY KEY,
    user_id TEXT NOT NULL,
    scenario_id TEXT NOT NULL REFERENCES rca_scenarios(scenario_id),
    user_answer TEXT,
    sql TEXT,
    correct BOOLEAN,
    score INTEGER,
    xp_earned INTEGER,
    submitted_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_rca_submissions_user ON rca_submissions(user_id);
CREATE INDEX idx_rca_submissions_scenario ON rca_submissions(scenario_id);
```

## 1.6 AI í”„ë¡¬í”„íŠ¸ ì„¤ê³„

### 1.6.1 ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± í”„ë¡¬í”„íŠ¸

```
ë‹¹ì‹ ì€ ë°ì´í„° ë¶„ì„ê°€ë¥¼ ìœ„í•œ RCA(Root Cause Analysis) ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ìƒì„±í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

**ëª©í‘œ**: ì˜¤ëŠ˜ ë‚ ì§œ({date})ì— ë°œìƒí•  ê°€ìƒì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ì¥ì•  ìƒí™©ì„ ë§Œë“œì„¸ìš”.

**ìš”êµ¬ì‚¬í•­**:
1. ë‚œì´ë„: {difficulty} (easy, medium, hard)
2. ë°ì´í„°ì…‹: PA (Product Analytics) ë°ì´í„°
3. ì¥ì•  ìœ í˜•: ë§¤ì¶œ ê°ì†Œ, ì „í™˜ìœ¨ í•˜ë½, ë¦¬í…ì…˜ ê°ì†Œ, DAU ê¸‰ê° ì¤‘ í•˜ë‚˜ ì„ íƒ
4. ì›ì¸: ëª…í™•í•œ í•˜ë‚˜ì˜ ê·¼ë³¸ ì›ì¸ (ì˜ˆ: íŠ¹ì • í”Œë«í¼ ë²„ê·¸, ë§ˆì¼€íŒ… ì±„ë„ ì´ìŠˆ ë“±)

**ì¶œë ¥ í˜•ì‹** (JSON):
{{
  "title": "í•œ ì¤„ ìš”ì•½ (ì˜ˆ: ê²°ì œ ì „í™˜ìœ¨ 35% ê¸‰ë½)",
  "description": "ìƒí™© ì„¤ëª… (2-3ë¬¸ì¥)",
  "context": {{
    "metric": "ì¸¡ì • ì§€í‘œ (ì˜ˆ: conversion_rate)",
    "baseline": ì •ìƒ ìˆ˜ì¹˜,
    "current": í˜„ì¬ ìˆ˜ì¹˜,
    "timeframe": "ë¶„ì„ ê¸°ê°„"
  }},
  "hidden_truth": {{
    "cause": "ì›ì¸ í‚¤ì›Œë“œ (ì˜ˆ: ios_payment_button_bug)",
    "affected_segment": "SQL WHERE ì¡°ê±´ (ì˜ˆ: platform = 'iOS')",
    "explanation": "ì™œ ì´ ì›ì¸ì´ ë°œìƒí–ˆëŠ”ì§€ ì„¤ëª…"
  }}
}}
```

### 1.6.2 íŒíŠ¸ ìƒì„± í”„ë¡¬í”„íŠ¸

```
ì‚¬ìš©ìê°€ RCA ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í’€ê³  ìˆìŠµë‹ˆë‹¤. ë§‰í˜”ì„ ë•Œ ë„ì›€ì´ ë˜ëŠ” íŒíŠ¸ë¥¼ ì œê³µí•˜ì„¸ìš”.

**ì‹œë‚˜ë¦¬ì˜¤**: {scenario_description}
**ìˆ¨ê²¨ì§„ ì •ë‹µ**: {hidden_truth}
**ì‚¬ìš©ìê°€ ì‘ì„±í•œ SQL**: {user_sql}

**ê·œì¹™**:
1. ì •ë‹µì„ ì§ì ‘ ì•Œë ¤ì£¼ì§€ ë§ˆì„¸ìš”
2. ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì œì‹œí•˜ì„¸ìš” (ì˜ˆ: "ì´ í…Œì´ë¸”ì˜ platform ì»¬ëŸ¼ì„ í™•ì¸í•´ë³´ì„¸ìš”")
3. ì‚¬ìš©ìê°€ ë†“ì¹œ ë¶€ë¶„ì„ ì•”ì‹œí•˜ì„¸ìš”

**ì¶œë ¥**: íŒíŠ¸ í…ìŠ¤íŠ¸ (2-3ë¬¸ì¥)
```

---

# 2. AI ì¸ì‚¬ì´íŠ¸ ë¦¬í¬íŠ¸

## 2.1 ê°œìš”

**ì»¨ì…‰**: "SQL ê²°ê³¼ â†’ ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ ìë™ ìƒì„±"  
**ëª©í‘œ**: ë°ì´í„° ë¶„ì„ í›„ ë¦¬í¬íŠ¸ ì‘ì„± ì‹œê°„ 80% ë‹¨ì¶•

## 2.2 ì‚¬ìš©ì í”Œë¡œìš°

```mermaid
graph TD
    A[SQL ì‹¤í–‰] --> B[ê²°ê³¼ í…Œì´ë¸” ì¶œë ¥]
    B --> C[AI ì¸ì‚¬ì´íŠ¸ ë³´ê¸° ë²„íŠ¼ í´ë¦­]
    C --> D[AI ë¶„ì„ ì¤‘... 5ì´ˆ~10ì´ˆ]
    D --> E[ì¸ì‚¬ì´íŠ¸ ë¦¬í¬íŠ¸ ì¶œë ¥]
    E --> F{ì¶”ê°€ ë¶„ì„ í•„ìš”?}
    F -->|Yes| G[AI ì œì•ˆ ì¿¼ë¦¬ í´ë¦­]
    G --> A
    F -->|No| H[ë¦¬í¬íŠ¸ ë³µì‚¬/ë‹¤ìš´ë¡œë“œ]
```

## 2.3 UI/UX ì„¤ê³„

### 2.3.1 ì¸ì‚¬ì´íŠ¸ ë²„íŠ¼ ì¶”ê°€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SQL Editor                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ SELECT ...                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  [â–¶ ì‹¤í–‰] [ğŸ’¡ AI ì¸ì‚¬ì´íŠ¸ ë³´ê¸°]        â”‚
â”‚                                        â”‚
â”‚  ğŸ“Š ê²°ê³¼ (25 rows)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ date      | revenue | users      â”‚  â”‚
â”‚  â”‚ 2026-01-01| 125,000 | 2,340     â”‚  â”‚
â”‚  â”‚ ...                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3.2 ì¸ì‚¬ì´íŠ¸ ë¦¬í¬íŠ¸ ëª¨ë‹¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI ì¸ì‚¬ì´íŠ¸ ë¦¬í¬íŠ¸        [âœ•]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚
â”‚  ğŸ“Œ í•µì‹¬ ë°œê²¬ (Key Findings)               â”‚
â”‚  1. 1ì›” 1ì£¼ì°¨ ë§¤ì¶œì´ ì „ì£¼ ëŒ€ë¹„ 15% ì¦ê°€    â”‚
â”‚  2. ì‹ ê·œ ì‚¬ìš©ì ìœ ì…ì´ 2,340ëª…ìœ¼ë¡œ ìµœê³ ì¹˜   â”‚
â”‚  3. iOS ì‚¬ìš©ìì˜ ê°ë‹¨ê°€ê°€ Androidë³´ë‹¤      â”‚
â”‚     23% ë†’ìŒ                              â”‚
â”‚                                           â”‚
â”‚  ğŸ’¡ ì¸ì‚¬ì´íŠ¸ (Business Insight)            â”‚
â”‚  - ì—°íœ´ ì‹œì¦Œ ë§ˆì¼€íŒ… íš¨ê³¼ê°€ ëšœë ·í•˜ê²Œ ë‚˜íƒ€ë‚¨  â”‚
â”‚  - iOS ì‚¬ìš©ì íƒ€ê²ŸíŒ… ê°•í™” í•„ìš”             â”‚
â”‚                                           â”‚
â”‚  ğŸ¯ ì¶”ì²œ ì•¡ì…˜ (Action Items)               â”‚
â”‚  1. iOS ì „ìš© í”„ë¡œëª¨ì…˜ ê¸°íš                 â”‚
â”‚  2. ì‹ ê·œ ìœ ì… ì±„ë„ ë¶„ì„ í™•ëŒ€               â”‚
â”‚                                           â”‚
â”‚  ğŸ” ì¶”ê°€ ë¶„ì„ ì œì•ˆ                         â”‚
â”‚  [í´ë¦­í•˜ì—¬ ì‹¤í–‰ â†’]                         â”‚
â”‚  - ì¼ë³„ ë¦¬í…ì…˜ íŠ¸ë Œë“œ ë¶„ì„                 â”‚
â”‚  - ì±„ë„ë³„ ROAS ê³„ì‚°                        â”‚
â”‚                                           â”‚
â”‚  [ğŸ“‹ ë³µì‚¬] [â¬‡ ë‹¤ìš´ë¡œë“œ (.md)]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2.4 API ì„¤ê³„

### 2.4.1 ì—”ë“œí¬ì¸íŠ¸

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| POST | `/sql/insight` | SQL ê²°ê³¼ â†’ AI ì¸ì‚¬ì´íŠ¸ ìƒì„± |

### 2.4.2 ë°ì´í„° êµ¬ì¡°

**Request:**
```json
{
  "problem_id": "pa_20260115_01",
  "sql": "SELECT date, SUM(revenue) as total_revenue...",
  "results": [
    {"date": "2026-01-01", "revenue": 125000, "users": 2340},
    {"date": "2026-01-02", "revenue": 118000, "users": 2210}
  ],
  "data_type": "pa"
}
```

**Response:**
```json
{
  "key_findings": [
    "1ì›” 1ì£¼ì°¨ ë§¤ì¶œì´ ì „ì£¼ ëŒ€ë¹„ 15% ì¦ê°€",
    "ì‹ ê·œ ì‚¬ìš©ì ìœ ì…ì´ 2,340ëª…ìœ¼ë¡œ ìµœê³ ì¹˜"
  ],
  "insights": [
    "ì—°íœ´ ì‹œì¦Œ ë§ˆì¼€íŒ… íš¨ê³¼ê°€ ëšœë ·í•˜ê²Œ ë‚˜íƒ€ë‚¨"
  ],
  "action_items": [
    "iOS ì „ìš© í”„ë¡œëª¨ì…˜ ê¸°íš",
    "ì‹ ê·œ ìœ ì… ì±„ë„ ë¶„ì„ í™•ëŒ€"
  ],
  "suggested_queries": [
    {
      "title": "ì¼ë³„ ë¦¬í…ì…˜ íŠ¸ë Œë“œ ë¶„ì„",
      "sql": "SELECT date, COUNT(DISTINCT user_id)..."
    }
  ],
  "report_markdown": "# AI ì¸ì‚¬ì´íŠ¸ ë¦¬í¬íŠ¸\n\n## í•µì‹¬ ë°œê²¬..."
}
```

## 2.5 AI í”„ë¡¬í”„íŠ¸ ì„¤ê³„

```
ë‹¹ì‹ ì€ ë°ì´í„° ë¶„ì„ ê²°ê³¼ë¥¼ ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ë¡œ ë³€í™˜í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

**ì…ë ¥ ë°ì´í„°**:
```
{results_table}
```

**ì‹¤í–‰í•œ SQL**:
```sql
{sql}
```

**ìš”êµ¬ì‚¬í•­**:
1. **í•µì‹¬ ë°œê²¬ (Key Findings)**: ë°ì´í„°ì—ì„œ ë°œê²¬í•œ ì •ëŸ‰ì  ì‚¬ì‹¤ 3ê°€ì§€
2. **ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸**: ë°œê²¬ì˜ ì˜ë¯¸ì™€ ë°°ê²½ í•´ì„
3. **ì¶”ì²œ ì•¡ì…˜**: êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜ ì•„ì´í…œ
4. **ì¶”ê°€ ë¶„ì„ ì œì•ˆ**: ë” ê¹Šì´ íŒŒê³ ë“¤ ìˆ˜ ìˆëŠ” SQL ì¿¼ë¦¬ ì œì•ˆ

**ì¶œë ¥ í˜•ì‹**: JSON
{{
  "key_findings": ["ë¬¸ì¥1", "ë¬¸ì¥2", "ë¬¸ì¥3"],
  "insights": ["ì¸ì‚¬ì´íŠ¸1", "ì¸ì‚¬ì´íŠ¸2"],
  "action_items": ["ì•¡ì…˜1", "ì•¡ì…˜2"],
  "suggested_queries": [
    {{"title": "ì œëª©", "sql": "ì¿¼ë¦¬"}}
  ]
}}
```

---

# 3. ê°œì¸í™” í•™ìŠµ ì¶”ì²œ (Adaptive Tutor)

## 3.1 ê°œìš”

**ì»¨ì…‰**: "ì‚¬ìš©ì ì•½ì  ë¶„ì„ â†’ ë§ì¶¤í˜• ë¬¸ì œ ì¶”ì²œ"  
**ëª©í‘œ**: í•™ìŠµ íš¨ìœ¨ 2ë°° ì¦ê°€ (ì•½ì  ì§‘ì¤‘ í•™ìŠµ)

## 3.2 ì‚¬ìš©ì í”Œë¡œìš°

```mermaid
graph TD
    A[ì‚¬ìš©ì í™œë™ ìˆ˜ì§‘] --> B[ì•½ì  ë¶„ì„]
    B --> C[Adaptive Tutor í˜ì´ì§€ ì§„ì…]
    C --> D[í•™ìŠµ í˜„í™© ëŒ€ì‹œë³´ë“œ]
    D --> E[AI ì¶”ì²œ ë¬¸ì œ í™•ì¸]
    E --> F{ì¶”ì²œ ë¬¸ì œ í’€ê¸°}
    F --> G[ì •ë‹µ ì œì¶œ]
    G --> H[ì•½ì  ë°ì´í„° ì—…ë°ì´íŠ¸]
    H --> B
```

## 3.3 UI/UX ì„¤ê³„

### 3.3.1 Adaptive Tutor ëŒ€ì‹œë³´ë“œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Adaptive Tutor                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  ğŸ“Š ë‚´ í•™ìŠµ í˜„í™©                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ë ˆë²¨: 5 | XP: 340/500               â”‚   â”‚
â”‚  â”‚ í•´ê²°í•œ ë¬¸ì œ: 42ê°œ                    â”‚   â”‚
â”‚  â”‚ ì •ë‹µë¥ : 78%                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚
â”‚  ğŸ” AIê°€ ë°œê²¬í•œ ì•½ì                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ”´ JOIN (íŠ¹íˆ LEFT JOIN)            â”‚   â”‚
â”‚  â”‚    ì˜¤ë‹µë¥ : 60% | í‰ê·  í’€ì´ ì‹œê°„: 8ë¶„  â”‚   â”‚
â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚ ğŸŸ¡ ìœˆë„ìš° í•¨ìˆ˜                       â”‚   â”‚
â”‚  â”‚    ì˜¤ë‹µë¥ : 45% | í‰ê·  í’€ì´ ì‹œê°„: 6ë¶„  â”‚   â”‚
â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚ ğŸŸ¢ GROUP BY                         â”‚   â”‚
â”‚  â”‚    ì •ë‹µë¥ : 90% (ìš°ìˆ˜)                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚
â”‚  ğŸ’¡ ì˜¤ëŠ˜ì˜ ì¶”ì²œ ë¬¸ì œ                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“ "ì‚¬ìš©ìë³„ êµ¬ë§¤ ë¹ˆë„ ë¶„ì„"          â”‚   â”‚
â”‚  â”‚ ë‚œì´ë„: â­â­ (Medium)                 â”‚   â”‚
â”‚  â”‚ ì£¼ì œ: LEFT JOIN ì—°ìŠµ                 â”‚   â”‚
â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚ ğŸ’¬ ì™œ ì¶”ì²œ?                          â”‚   â”‚
â”‚  â”‚ "ìµœê·¼ JOIN ë¬¸ì œì—ì„œ ì˜¤ë‹µë¥ ì´ ë†’ì•˜ì–´ìš”.â”‚   â”‚
â”‚  â”‚  ì´ ë¬¸ì œë¡œ ê¸°ì´ˆë¥¼ ë‹¤ì‹œ ë‹¤ì ¸ë³´ì„¸ìš”!"  â”‚   â”‚
â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚ [ì‹œì‘í•˜ê¸° â†’]                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚
â”‚  ğŸ“ˆ ì„±ì¥ ì¶”ì´                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ (ì°¨íŠ¸: ì£¼ì°¨ë³„ ì •ë‹µë¥  íŠ¸ë Œë“œ)          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3.4 API ì„¤ê³„

### 3.4.1 ì—”ë“œí¬ì¸íŠ¸

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/tutor/analysis` | ì‚¬ìš©ì ì•½ì  ë¶„ì„ |
| GET | `/tutor/recommend` | ë§ì¶¤í˜• ë¬¸ì œ ì¶”ì²œ |
| GET | `/tutor/growth` | ì„±ì¥ ì¶”ì´ ë°ì´í„° |

### 3.4.2 ë°ì´í„° êµ¬ì¡°

**Response: GET /tutor/analysis**
```json
{
  "user_id": "user_123",
  "overall_stats": {
    "level": 5,
    "xp": 340,
    "problems_solved": 42,
    "accuracy": 0.78
  },
  "weaknesses": [
    {
      "category": "JOIN",
      "subcategory": "LEFT JOIN",
      "accuracy": 0.40,
      "avg_time_seconds": 480,
      "severity": "high",
      "recent_failures": 5
    }
  ],
  "strengths": [
    {
      "category": "GROUP BY",
      "accuracy": 0.90
    }
  ]
}
```

**Response: GET /tutor/recommend**
```json
{
  "recommended_problems": [
    {
      "problem_id": "pa_20260115_02",
      "title": "ì‚¬ìš©ìë³„ êµ¬ë§¤ ë¹ˆë„ ë¶„ì„",
      "difficulty": "medium",
      "category": "JOIN",
      "reason": "ìµœê·¼ JOIN ë¬¸ì œì—ì„œ ì˜¤ë‹µë¥ ì´ ë†’ì•˜ì–´ìš”. ì´ ë¬¸ì œë¡œ ê¸°ì´ˆë¥¼ ë‹¤ì‹œ ë‹¤ì ¸ë³´ì„¸ìš”!",
      "estimated_time_minutes": 10
    }
  ]
}
```

## 3.5 ë°ì´í„° ëª¨ë¸

```sql
CREATE TABLE user_problem_stats (
    user_id TEXT NOT NULL,
    category TEXT NOT NULL,  -- 'JOIN', 'GROUP BY', 'WINDOW', etc.
    attempts INTEGER DEFAULT 0,
    correct INTEGER DEFAULT 0,
    total_time_seconds INTEGER DEFAULT 0,
    last_attempt_at TIMESTAMP,
    PRIMARY KEY (user_id, category)
);

CREATE INDEX idx_user_problem_stats_user ON user_problem_stats(user_id);
```

## 3.6 ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

### 3.6.1 ì•½ì  ì ìˆ˜ ê³„ì‚°

```python
def calculate_weakness_score(category_stats):
    """
    ì•½ì  ì ìˆ˜ = (1 - ì •ë‹µë¥ ) * 0.7 + (ìµœê·¼ ì‹¤íŒ¨ ë¹ˆë„) * 0.3
    """
    accuracy = category_stats['correct'] / category_stats['attempts']
    recent_failures = category_stats['recent_failures']
    
    weakness_score = (1 - accuracy) * 0.7 + (recent_failures / 10) * 0.3
    return weakness_score
```

### 3.6.2 ë¬¸ì œ ì¶”ì²œ ë¡œì§

```python
def recommend_problems(user_id):
    """
    1. ì•½ì  ì¹´í…Œê³ ë¦¬ íŒŒì•… (weakness_score ë†’ì€ ìˆœ)
    2. í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ë‚œì´ë„ ì ì • ë¬¸ì œ ì„ íƒ
    3. ìµœê·¼ í’€ì—ˆë˜ ë¬¸ì œ ì œì™¸
    """
    weaknesses = get_user_weaknesses(user_id)
    top_weakness = weaknesses[0]  # ê°€ì¥ ì•½í•œ ì¹´í…Œê³ ë¦¬
    
    # ë‚œì´ë„ ì¡°ì •: ì •ë‹µë¥  ë‚®ìœ¼ë©´ ì‰¬ìš´ ë¬¸ì œë¶€í„°
    if top_weakness['accuracy'] < 0.5:
        difficulty = 'easy'
    else:
        difficulty = 'medium'
    
    recommended = get_problems_by_category(
        category=top_weakness['category'],
        difficulty=difficulty,
        exclude_solved_by_user=user_id
    )
    
    return recommended[0]
```

---

# 4. Text-to-SQL (AI Workspace)

## 4.1 ê°œìš”

**ì»¨ì…‰**: "ìì—°ì–´ ì§ˆë¬¸ â†’ SQL ìë™ ìƒì„±"  
**ëª©í‘œ**: ì¿¼ë¦¬ ì‘ì„± ì‹œê°„ 70% ë‹¨ì¶• + í•™ìŠµ ë„êµ¬

## 4.2 ì‚¬ìš©ì í”Œë¡œìš°

```mermaid
graph TD
    A[AI Workspace ì§„ì…] --> B[ìì—°ì–´ ì§ˆë¬¸ ì…ë ¥]
    B --> C[AIê°€ SQL ìƒì„± ì¤‘...]
    C --> D[SQL ì´ˆì•ˆ ì¶œë ¥]
    D --> E{ë§Œì¡±?}
    E -->|No| F[ì§ˆë¬¸ ìˆ˜ì • ë˜ëŠ” SQL ì§ì ‘ í¸ì§‘]
    F --> C
    E -->|Yes| G[SQL ì‹¤í–‰]
    G --> H[ê²°ê³¼ í™•ì¸]
```

## 4.3 UI/UX ì„¤ê³„

### 4.3.1 AI Workspace í˜ì´ì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI Workspace                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  ğŸ’¬ ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ì§€ë‚œ ì£¼ ëŒ€ë¹„ ì´ë²ˆ ì£¼ DAUê°€ ì–¼ë§ˆë‚˜       â”‚ â”‚
â”‚  â”‚ ë³€í–ˆì–´?                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  [ğŸª„ SQL ìƒì„±]                               â”‚
â”‚                                              â”‚
â”‚  âš™ï¸ ìƒì„±ëœ SQL                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ -- ì§€ë‚œ ì£¼ vs ì´ë²ˆ ì£¼ DAU ë¹„êµ          â”‚ â”‚
â”‚  â”‚ SELECT                                  â”‚ â”‚
â”‚  â”‚   CASE                                  â”‚ â”‚
â”‚  â”‚     WHEN event_date >= DATE_SUB(...     â”‚ â”‚
â”‚  â”‚     ...                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  [â–¶ ì‹¤í–‰] [âœï¸ ìˆ˜ì •]                          â”‚
â”‚                                              â”‚
â”‚  ğŸ“Š ê²°ê³¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ week       | dau                       â”‚ â”‚
â”‚  â”‚ this_week  | 3,245                     â”‚ â”‚
â”‚  â”‚ last_week  | 3,120                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                              â”‚
â”‚  ğŸ’¡ AI ì„¤ëª…                                   â”‚
â”‚  ì´ ì¿¼ë¦¬ëŠ” ìµœê·¼ 2ì£¼ê°„ì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ì—¬...  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 4.4 API ì„¤ê³„

### 4.4.1 ì—”ë“œí¬ì¸íŠ¸

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| POST | `/sql/translate` | ìì—°ì–´ â†’ SQL ë³€í™˜ |

### 4.4.2 ë°ì´í„° êµ¬ì¡°

**Request:**
```json
{
  "question": "ì§€ë‚œ ì£¼ ëŒ€ë¹„ ì´ë²ˆ ì£¼ DAUê°€ ì–¼ë§ˆë‚˜ ë³€í–ˆì–´?",
  "data_type": "pa"
}
```

**Response:**
```json
{
  "sql": "SELECT\n  CASE WHEN event_date >= DATE_SUB(CURRENT_DATE, 7)...",
  "explanation": "ì´ ì¿¼ë¦¬ëŠ” ìµœê·¼ 2ì£¼ê°„ì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ì—¬ ì£¼ì°¨ë³„ DAUë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.",
  "confidence": 0.92,
  "warnings": []
}
```

## 4.5 AI í”„ë¡¬í”„íŠ¸ ì„¤ê³„

```
ë‹¹ì‹ ì€ ìì—°ì–´ ì§ˆë¬¸ì„ SQLë¡œ ë³€í™˜í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

**ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ**:
```sql
{schema}
```

**ì‚¬ìš©ì ì§ˆë¬¸**:
"{question}"

**ìš”êµ¬ì‚¬í•­**:
1. PostgreSQL ë¬¸ë²• ì‚¬ìš©
2. ì£¼ì„ìœ¼ë¡œ ê° ë¶€ë¶„ ì„¤ëª… ì¶”ê°€
3. íš¨ìœ¨ì ì¸ ì¿¼ë¦¬ ì‘ì„± (ì¸ë±ìŠ¤ ê³ ë ¤)
4. ë‚ ì§œ/ì‹œê°„ ê´€ë ¨ ì§ˆë¬¸ì€ CURRENT_DATE ê¸°ì¤€

**ì¶œë ¥ í˜•ì‹**:
{{
  "sql": "-- ì£¼ì„\nSELECT ...",
  "explanation": "ì¿¼ë¦¬ ì„¤ëª… (2-3ë¬¸ì¥)",
  "confidence": 0.0~1.0 (í™•ì‹ ë„)
}}
```

---

# 5. MCP ì—°ë™

## 5.1 ê°œìš”

**ì»¨ì…‰**: "AIê°€ ì‹¤ì œ DBì— ì ‘ê·¼í•˜ì—¬ ì •í™•í•œ ê°€ì´ë“œ ì œê³µ"  
**ëª©í‘œ**: ì™¸ë¶€ IDE(Cursor, Claude Desktop)ì—ì„œë„ QueryCraft ë¬¸ì œ í’€ì´ ê°€ëŠ¥

## 5.2 ì•„í‚¤í…ì²˜

```mermaid
graph LR
    A[Claude Desktop / Cursor] -->|MCP Protocol| B[QueryCraft MCP Server]
    B -->|Query| C[PostgreSQL]
    B -->|Query| D[DuckDB]
    B -->|HTTP| E[QueryCraft Backend API]
    
    C --> F[Schema ì¡°íšŒ]
    C --> G[Data Preview]
    D --> H[Stream ë¶„ì„ ë°ì´í„°]
    E --> I[ë¬¸ì œ ì¡°íšŒ/ì œì¶œ]
```

## 5.3 MCP ì„œë²„ ìŠ¤í™

### 5.3.1 ì œê³µ ê¸°ëŠ¥ (Tools)

| Tool Name | ì„¤ëª… |
|-----------|------|
| `querycraft_get_schema` | í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ì¡°íšŒ |
| `querycraft_preview_data` | í…Œì´ë¸” ìƒ˜í”Œ ë°ì´í„° ì¡°íšŒ (ìµœëŒ€ 10í–‰) |
| `querycraft_execute_sql` | SQL ì‹¤í–‰ |
| `querycraft_get_problem` | ì˜¤ëŠ˜ì˜ ë¬¸ì œ ì¡°íšŒ |
| `querycraft_submit_solution` | ë‹µì•ˆ ì œì¶œ |

### 5.3.2 ì˜ˆì œ: ìŠ¤í‚¤ë§ˆ ì¡°íšŒ

**Input:**
```json
{
  "tool": "querycraft_get_schema",
  "arguments": {
    "table_name": "pa_users"
  }
}
```

**Output:**
```json
{
  "table_name": "pa_users",
  "columns": [
    {"name": "user_id", "type": "TEXT", "nullable": false},
    {"name": "signup_at", "type": "TIMESTAMP", "nullable": true},
    {"name": "country", "type": "TEXT", "nullable": true}
  ],
  "row_count": 50000
}
```

## 5.4 êµ¬í˜„ ê¸°ìˆ 

- **MCP SDK**: `@modelcontextprotocol/sdk` (TypeScript)
- **ì„œë²„ íƒ€ì…**: stdio transport (ë¡œì»¬ ì‹¤í–‰)
- **ì¸ì¦**: ì‚¬ìš©ìë³„ API í† í° (í™˜ê²½ë³€ìˆ˜ë¡œ ì „ë‹¬)

---

# 6. êµ¬í˜„ ìš°ì„ ìˆœìœ„ ë° ë¡œë“œë§µ

## 6.1 ë³µì¡ë„ í‰ê°€

| ê¸°ëŠ¥ | í”„ë¡ íŠ¸ ë³µì¡ë„ | ë°±ì—”ë“œ ë³µì¡ë„ | AI í”„ë¡¬í”„íŠ¸ ë³µì¡ë„ | ì´ì  |
|------|--------------|--------------|-------------------|------|
| AI ì¸ì‚¬ì´íŠ¸ ë¦¬í¬íŠ¸ | ë‚®ìŒ (3) | ë‚®ìŒ (3) | ì¤‘ê°„ (5) | **11** |
| Text-to-SQL | ì¤‘ê°„ (5) | ë‚®ìŒ (3) | ì¤‘ê°„ (5) | **13** |
| RCA ì‹œë‚˜ë¦¬ì˜¤ | ë†’ìŒ (8) | ë†’ìŒ (8) | ë†’ìŒ (8) | **24** |
| Adaptive Tutor | ì¤‘ê°„ (6) | ë†’ìŒ (8) | ì¤‘ê°„ (5) | **19** |
| MCP ì—°ë™ | ë‚®ìŒ (4) | ì¤‘ê°„ (6) | ì—†ìŒ (0) | **10** |

## 6.2 ROI ë¶„ì„ (ì‚¬ìš©ì ê°€ì¹˜ / ê°œë°œ ì‹œê°„)

| ê¸°ëŠ¥ | ì‚¬ìš©ì ê°€ì¹˜ | ê°œë°œ ì‹œê°„ (ì¶”ì •) | ROI |
|------|------------|-----------------|-----|
| AI ì¸ì‚¬ì´íŠ¸ ë¦¬í¬íŠ¸ | â­â­â­â­ | 1ì£¼ | **ë†’ìŒ** |
| Text-to-SQL | â­â­â­ | 1ì£¼ | ì¤‘ê°„ |
| RCA ì‹œë‚˜ë¦¬ì˜¤ | â­â­â­â­â­ | 3ì£¼ | ì¤‘ê°„ |
| Adaptive Tutor | â­â­â­â­ | 2ì£¼ | ì¤‘ê°„ |
| MCP ì—°ë™ | â­â­ | 1ì£¼ | ë‚®ìŒ |

## 6.3 ì¶”ì²œ êµ¬í˜„ ìˆœì„œ

### Phase 1: Quick Win (1~2ì£¼)
1. **AI ì¸ì‚¬ì´íŠ¸ ë¦¬í¬íŠ¸** (1ì£¼)
   - ê¸°ì¡´ `/sql/insight` API í™œìš©
   - í”„ë¡ íŠ¸ì—”ë“œ: ë²„íŠ¼ 1ê°œ ì¶”ê°€
   - ì¦‰ì‹œ ê°€ì¹˜ ì œê³µ

2. **Text-to-SQL** (1ì£¼)
   - AI Workspace í˜ì´ì§€ ì‹ ê·œ ìƒì„±
   - ë°±ì—”ë“œ: `/sql/translate` API ê°œì„ 
   - í•™ìŠµ íš¨ìœ¨ ì¦ëŒ€

### Phase 2: Core Feature (3~4ì£¼)
3. **RCA ì‹œë‚˜ë¦¬ì˜¤ ëª¨ë“œ** (3ì£¼)
   - Crisis Simulator í˜ì´ì§€ êµ¬í˜„
   - ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± ì—”ì§„ ê°œë°œ
   - ì„œë¹„ìŠ¤ í•µì‹¬ ì°¨ë³„í™” í¬ì¸íŠ¸

### Phase 3: Personalization (2ì£¼)
4. **Adaptive Tutor** (2ì£¼)
   - ì‚¬ìš©ì í†µê³„ ë¶„ì„ ë¡œì§
   - ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
   - ì¥ê¸° ì‚¬ìš©ì ë¦¬í…ì…˜ ì¦ëŒ€

### Phase 4: Advanced (1ì£¼)
5. **MCP ì—°ë™** (1ì£¼)
   - ì™¸ë¶€ ë„êµ¬ ì—°ë™
   - ë‹ˆì¹˜ ì‚¬ìš©ì íƒ€ê²Ÿ

---

**ë‹¤ìŒ ë‹¨ê³„**: ê° ê¸°ëŠ¥ë³„ ìƒì„¸ êµ¬í˜„ ê³„íš ìˆ˜ë¦½ ë° ê°œë°œ ì°©ìˆ˜
